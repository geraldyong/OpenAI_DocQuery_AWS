<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 750">
  <!-- Background -->
  <rect width="1000" height="750" fill="#f8f9fa" />
  
  <!-- AWS Cloud Border -->
  <rect x="20" y="20" width="960" height="710" rx="20" ry="20" fill="#f8f9fa" stroke="#232f3e" stroke-width="2" stroke-dasharray="5,5" />
  <text x="40" y="50" font-family="Arial" font-size="18" font-weight="bold" fill="#232f3e">AWS Cloud</text>
  
  <!-- VPC -->
  <rect x="60" y="70" width="880" height="620" rx="10" ry="10" fill="#feffef" stroke="#248814" stroke-width="2" />
  <text x="80" y="95" font-family="Arial" font-size="16" fill="#248814">VPC</text>

  <!-- Public Subnets -->
  <rect x="100" y="110" width="380" height="180" rx="5" ry="5" fill="#E2EFF8" stroke="#147EB8" stroke-width="1" />
  <text x="120" y="130" font-family="Arial" font-size="14" fill="#147EB8">Public Subnets</text>
  
  <!-- Private Subnets -->
  <rect x="100" y="310" width="800" height="250" rx="5" ry="5" fill="#E8F5E2" stroke="#248814" stroke-width="1" />
  <text x="120" y="330" font-family="Arial" font-size="14" fill="#248814">Private Subnets</text>
  
  <!-- Internet Gateway -->
  <rect x="120" y="150" width="80" height="40" rx="5" ry="5" fill="#FF9900" stroke="#232f3e" stroke-width="1" />
  <text x="130" y="175" font-family="Arial" font-size="12" fill="white">Internet Gateway</text>
  
  <!-- NAT Gateway -->
  <rect x="220" y="150" width="80" height="40" rx="5" ry="5" fill="#FF9900" stroke="#232f3e" stroke-width="1" />
  <text x="230" y="175" font-family="Arial" font-size="12" fill="white">NAT Gateway</text>
  
  <!-- EKS Cluster -->
  <rect x="120" y="350" width="760" height="190" rx="5" ry="5" fill="#FFEBCA" stroke="#FF9900" stroke-width="1" />
  <text x="140" y="370" font-family="Arial" font-size="14" font-weight="bold" fill="#ED8035">EKS Cluster</text>
  
  <!-- Node Group -->
  <rect x="150" y="385" width="700" height="140" rx="5" ry="5" fill="#FFF5E8" stroke="#ED8035" stroke-width="1" />
  <text x="170" y="405" font-family="Arial" font-size="12" fill="#ED8035">EKS Node Group</text>
  
  <!-- Frontend Pod -->
  <rect x="180" y="425" width="120" height="80" rx="5" ry="5" fill="#EBEBEB" stroke="#232f3e" stroke-width="1" />
  <text x="190" y="455" font-family="Arial" font-size="12" fill="#232f3e">Frontend Pod</text>
  <text x="190" y="475" font-family="Arial" font-size="10" fill="#232f3e">Service: LoadBalancer</text>
  
  <!-- Backend Pod -->
  <rect x="330" y="425" width="120" height="80" rx="5" ry="5" fill="#EBEBEB" stroke="#232f3e" stroke-width="1" />
  <text x="355" y="455" font-family="Arial" font-size="12" fill="#232f3e">Backend Pod</text>
  <text x="355" y="475" font-family="Arial" font-size="10" fill="#232f3e">Service: ClusterIP</text>
  
  <!-- Redis Pod -->
  <rect x="480" y="425" width="120" height="80" rx="5" ry="5" fill="#EBEBEB" stroke="#232f3e" stroke-width="1" />
  <text x="510" y="455" font-family="Arial" font-size="12" fill="#232f3e">Redis Pod</text>
  <text x="510" y="475" font-family="Arial" font-size="10" fill="#232f3e">Vector Database</text>
  
  <!-- Load Balancer Controller -->
  <rect x="630" y="425" width="170" height="80" rx="5" ry="5" fill="#EBEBEB" stroke="#232f3e" stroke-width="1" />
  <text x="640" y="455" font-family="Arial" font-size="12" fill="#232f3e">AWS Load Balancer</text>
  <text x="640" y="475" font-family="Arial" font-size="10" fill="#232f3e">Controller</text>
  
  <!-- ECR -->
  <rect x="520" y="150" width="120" height="60" rx="5" ry="5" fill="#E2EFF8" stroke="#147EB8" stroke-width="1" />
  <text x="555" y="185" font-family="Arial" font-size="12" fill="#147EB8">ECR</text>
  
  <!-- Network Load Balancer -->
  <rect x="320" y="200" width="140" height="40" rx="5" ry="5" fill="#E2EFF8" stroke="#147EB8" stroke-width="1" />
  <text x="340" y="225" font-family="Arial" font-size="12" fill="#147EB8">Network Load Balancer</text>
  
  <!-- CloudFront -->
  <rect x="680" y="150" width="120" height="60" rx="5" ry="5" fill="#D3CFFF" stroke="#4D27AA" stroke-width="1" />
  <text x="710" y="185" font-family="Arial" font-size="12" fill="#4D27AA">CloudFront</text>
  
  <!-- WAF -->
  <rect x="830" y="150" width="80" height="60" rx="5" ry="5" fill="#D3CFFF" stroke="#4D27AA" stroke-width="1" />
  <text x="855" y="185" font-family="Arial" font-size="12" fill="#4D27AA">WAF</text>
  
  <!-- S3 Logs Bucket -->
  <rect x="750" y="250" width="120" height="40" rx="5" ry="5" fill="#E2EFF8" stroke="#147EB8" stroke-width="1" />
  <text x="775" y="275" font-family="Arial" font-size="12" fill="#147EB8">S3 Log Buckets</text>
  
  <!-- Kinesis -->
  <rect x="600" y="250" width="120" height="40" rx="5" ry="5" fill="#E2EFF8" stroke="#147EB8" stroke-width="1" />
  <text x="637" y="275" font-family="Arial" font-size="12" fill="#147EB8">Kinesis</text>
  
  <!-- Secrets Manager -->
  <rect x="100" y="590" width="140" height="40" rx="5" ry="5" fill="#FBC0D5" stroke="#C7232F" stroke-width="1" />
  <text x="115" y="615" font-family="Arial" font-size="12" fill="#C7232F">Secrets Manager</text>
  
  <!-- Parameter Store -->
  <rect x="260" y="590" width="140" height="40" rx="5" ry="5" fill="#FBC0D5" stroke="#C7232F" stroke-width="1" />
  <text x="275" y="615" font-family="Arial" font-size="12" fill="#C7232F">Parameter Store</text>
  
  <!-- IAM Roles -->
  <rect x="420" y="590" width="140" height="40" rx="5" ry="5" fill="#FBC0D5" stroke="#C7232F" stroke-width="1" />
  <text x="460" y="615" font-family="Arial" font-size="12" fill="#C7232F">IAM Roles</text>
  
  <!-- CloudWatch -->
  <rect x="580" y="590" width="140" height="40" rx="5" ry="5" fill="#E2EFF8" stroke="#147EB8" stroke-width="1" />
  <text x="610" y="615" font-family="Arial" font-size="12" fill="#147EB8">CloudWatch</text>
  
  <!-- User Icon -->
  <circle cx="50" cy="40" r="15" fill="#232f3e" />
  <circle cx="50" cy="30" r="6" fill="white" />
  <path d="M38 45 Q50 55, 62 45" stroke="white" stroke-width="2" fill="none" />
  
  <!-- Connecting Lines -->
  <!-- User to CloudFront -->
  <line x1="70" y1="40" x2="680" y2="160" stroke="#232f3e" stroke-width="1.5" stroke-dasharray="4,2" />
  
  <!-- CloudFront to WAF -->
  <line x1="800" y1="180" x2="830" y2="180" stroke="#232f3e" stroke-width="1.5" />
  
  <!-- CloudFront to NLB -->
  <line x1="710" y1="210" x2="450" y2="210" stroke="#232f3e" stroke-width="1.5" />
  
  <!-- NLB to Frontend Pod -->
  <line x1="390" y1="240" x2="240" y2="425" stroke="#232f3e" stroke-width="1.5" />
  
  <!-- Frontend to Backend -->
  <line x1="300" y1="465" x2="330" y2="465" stroke="#232f3e" stroke-width="1.5" />
  
  <!-- Backend to Redis -->
  <line x1="450" y1="465" x2="480" y2="465" stroke="#232f3e" stroke-width="1.5" />
  
  <!-- Nodes to ECR -->
  <line x1="520" y1="385" x2="580" y2="210" stroke="#232f3e" stroke-width="1.5" stroke-dasharray="4,2" />
  
  <!-- Nodes to SecretsManager and ParameterStore -->
  <line x1="500" y1="525" x2="170" y2="590" stroke="#232f3e" stroke-width="1.5" stroke-dasharray="4,2" />
  <line x1="500" y1="525" x2="330" y2="590" stroke="#232f3e" stroke-width="1.5" stroke-dasharray="4,2" />
  
  <!-- CloudFront to S3 and Kinesis -->
  <line x1="740" y1="210" x2="800" y2="250" stroke="#232f3e" stroke-width="1.5" stroke-dasharray="4,2" />
  <line x1="710" y1="210" x2="660" y2="250" stroke="#232f3e" stroke-width="1.5" stroke-dasharray="4,2" />
  
  <!-- Legend -->
  <rect x="750" y="465" width="160" height="200" rx="5" ry="5" fill="white" stroke="#232f3e" stroke-width="1" />
  <text x="760" y="485" font-family="Arial" font-size="14" font-weight="bold" fill="#232f3e">Legend</text>
  
  <!-- Legend Items -->
  <rect x="760" y="495" width="15" height="15" fill="#E2EFF8" stroke="#147EB8" stroke-width="1" />
  <text x="780" y="508" font-family="Arial" font-size="12" fill="#232f3e">AWS Services</text>
  
  <rect x="760" y="520" width="15" height="15" fill="#E8F5E2" stroke="#248814" stroke-width="1" />
  <text x="780" y="533" font-family="Arial" font-size="12" fill="#232f3e">Network Resources</text>
  
  <rect x="760" y="545" width="15" height="15" fill="#FFEBCA" stroke="#FF9900" stroke-width="1" />
  <text x="780" y="558" font-family="Arial" font-size="12" fill="#232f3e">EKS Resources</text>
  
  <rect x="760" y="570" width="15" height="15" fill="#EBEBEB" stroke="#232f3e" stroke-width="1" />
  <text x="780" y="583" font-family="Arial" font-size="12" fill="#232f3e">Kubernetes Resources</text>
  
  <rect x="760" y="595" width="15" height="15" fill="#FBC0D5" stroke="#C7232F" stroke-width="1" />
  <text x="780" y="608" font-family="Arial" font-size="12" fill="#232f3e">Security Resources</text>
  
  <rect x="760" y="620" width="15" height="15" fill="#D3CFFF" stroke="#4D27AA" stroke-width="1" />
  <text x="780" y="633" font-family="Arial" font-size="12" fill="#232f3e">Edge Services</text>
  
  <line x1="760" y1="640" x2="775" y2="640" stroke="#232f3e" stroke-width="1.5" />
  <text x="780" y="644" font-family="Arial" font-size="12" fill="#232f3e">Data Flow</text>
  
  <line x1="760" y1="655" x2="775" y2="655" stroke="#232f3e" stroke-width="1.5" stroke-dasharray="4,2" />
  <text x="780" y="659" font-family="Arial" font-size="12" fill="#232f3e">Access/Pull</text>
  
  <!-- Title -->
  <text x="500" y="700" font-family="Arial" font-size="18" font-weight="bold" text-anchor="middle" fill="#232f3e">EKS-based RAG System Architecture</text>
</svg>
